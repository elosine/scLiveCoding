<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <link rel="shortcut icon" href="../img/favicon.ico">

    <title>OSC and Data Streams - Howto_co34pt_LiveCode</title>

    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/base.css" rel="stylesheet">
    <link href="../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">Howto_co34pt_LiveCode</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="..">Contents</a>
</li>

                        
                            
<li >
    <a href="../todo/">To-Do list</a>
</li>

                        
                            
<li >
    <a href="../legalcode/">License</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../1-1-What-This-Repo-Is/">What this Repo Is</a>
</li>

                        
                            
<li >
    <a href="../1-2-Why-I-Live-Code/">Why I live Code</a>
</li>

                        
                            
<li >
    <a href="../1-3-Why-SuperCollider/">Why SuperCollider?</a>
</li>

                        
                            
<li >
    <a href="../1-4-How-To-Use-This-Repo/">How To Use This Repo</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Basics <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../2-1-Recommended-Addons/">Recommended Addons</a>
</li>

                        
                            
<li >
    <a href="../2-2-Why-ProxySpace/">ProxySpace - Live Coding in SuperCollider</a>
</li>

                        
                            
<li >
    <a href="../2-3-Setup-Code---Making-Performance-Easier/">Setup Code: Making Performance Easier</a>
</li>

                        
                            
<li >
    <a href="../2-4-Pbinds-and-Patterns/">Pbinds and Patterns: The Basics</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Rhythm <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../3-1-Rhythmic-Construction-For-Algorave-Sets/">Rhythmic Construction for Algorave Sets</a>
</li>

                        
                            
<li >
    <a href="../3-2-Basic-Rhythms/">Basic Rhythms</a>
</li>

                        
                            
<li >
    <a href="../3-3-Techniques-For-Modifying-Rhythm/">Techniques for Modifying Rhythm</a>
</li>

                        
                            
<li >
    <a href="../3-4-Euclidean-Rhythms/">Euclidean Rhythms</a>
</li>

                        
                            
<li >
    <a href="../3-5-StageLimiter-Abuse/">StageLimiter Abuse</a>
</li>

                        
                            
<li >
    <a href="../3-6-L-Systems-For-Rhythm/">L-Systems for Rhythm</a>
</li>

                        
                            
<li >
    <a href="../3-7-Looping/">Looping and using Looped Samples</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Melody and Pitch <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../4-1-Pitch-And-Patterns/">Pitch and Patterns</a>
</li>

                        
                            
<li >
    <a href="../4-2-Types-of-Pitch-Arrangement/">Types of Pitch Arrangement</a>
</li>

                        
                            
<li >
    <a href="../4-3-Riffs/">Riffs</a>
</li>

                        
                            
<li >
    <a href="../4-4-Pitch-and-Static-Synths/">Pitch and Static Synths</a>
</li>

                        
                            
<li >
    <a href="../4-5-Between-Pitch-And-Noise/">Between Pitch and Noise</a>
</li>

                        
                            
<li >
    <a href="../4-6-Good-SynthDef-Writing-for-co34pt_LiveCode/">Good SynthDef Writing for co34pt_LiveCode</a>
</li>

                        
                            
<li >
    <a href="../4-7-MIDI/">Using MIDI</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Non-Pattern Techniques <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../5-1-Drones/">Drones</a>
</li>

                        
                            
<li >
    <a href="../5-2-SuperCollider-as-a-Modular-Synth/">SuperCollider as a Modular Synth</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Visuals and Data <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../6-1-FreqScope-and-Visuals/">FreqScope and Visuals</a>
</li>

                        
                            
<li class="active">
    <a href="./">OSC and Data Streams</a>
</li>

                        
                            
<li >
    <a href="../6-3-Using-Datasets/">Using Datasets</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../6-1-FreqScope-and-Visuals/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../6-3-Using-Datasets/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#osc-communication-and-data-streams">OSC Communication and Data Streams</a></li>
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="osc-communication-and-data-streams">OSC Communication and Data Streams</h1>
<hr />
<p>I have done a set of performances that revolve around live coding and using data streams in the past, particularly performances where I have a continuous stream of data to interpret during the performance. These performances involve negotiating my relationship with sensor data (e.g. movement data, temperature, light levels), live-coding my interpretation of this data to deliver a performance.</p>
<p>For this type of performance I have used a particular set of technologies mutliple times, and have developed a reasonably quick way to work, which I will share here. Depending on the kind of data you want to use, some of the items described in this part of the guide may not apply to you directly, but using OSC to handle messages in SuperCollider is a really useful skill that can apply to many types of situation, so it's worth knowing if you want to work outside of SuperCollider at all.</p>
<p><a href="http://opensoundcontrol.org/introduction-osc">Open Sound Control</a> (hereafter OSC) is an <em>absurdly</em> useful protocol for communicating between programs, and across networks.</p>
<p>Before I learned how to use it I heard people refer to it a lot as 'modern MIDI', which I think is a bit of a misnomer and actually confused me quite a lot while learning it as someone used to MIDI a la DAWs and plugging cables into synthesizers. While MIDI is a set of commonly understood messages between programs (plug a MIDI cable into an interface and you can expect your DAW to react in a certain way), OSC is more of a 'common language' that enables programs to communicate effectively. OSC is very useful for getting multiple programs and machines to 'talk' to each other, and I have found it very useful for performances involving multiple programs and machines running together.</p>
<p>For example:</p>
<p><a href="https://www.youtube.com/watch?v=dY6oSwoRRho">sampler-sampler</a> uses OSC to communicate information about emulated stitching between two machines and multiple programs:</p>
<p><code>MACHINE 1: Processing -&gt; MACHINE 2: SuperCollider -&gt; Processing</code></p>
<p><a href="http://www.charliedearnley.com/portfolio/tome/">tome.</a> uses OSC to parse sensor data and manage lighting.</p>
<p><code>Sensor array (serial data) -&gt; [Python Serial Parser](https://github.com/theseanco/python-SerialToOSC) -&gt; SuperCollider -&gt; QLCPlus -&gt; OpenDMXUSB</code></p>
<p>While the above setups might seem complex or convoluted, using OSC makes these connections very easy, and using OSC is very similar across platforms.</p>
<p>It's first worth understanding a bit about how OSC sends its messages:</p>
<p>OSC Messages are sent over a network, and that network can be internally within a machine (to sent messages between programs), or across machines in a network of any kind (commonly a local network). Messages are sent to a particular port of a particular network address (for example, 127.0.0.1, port 51720), with an address (for example /hello), and parameters that can be <a href="http://opensoundcontrol.org/spec-1_0">of various types</a> (for example 1, 32.32, 'message').</p>
<p>Sending this message from SCLang to be received by SCLang internally would look like this (adapted from the <a href="http://doc.sccode.org/Guides/OSC_communication.html">OSC Communication tutorial</a>):</p>
<pre><code class="supercollider">//monitor all incoming OSC Messages
OSCFunc.trace;
//set the relevant IP and port - both arbitrary, but these will be sent to SuperCollider internally (assuming that NetAddr.langPort == 57120)
b = NetAddr.new(&quot;127.0.0.1&quot;, 57120);
//send the above message, and it should be shown in the post window
b.sendMsg(&quot;/hello&quot;, 1, 32.32, 'message')
// If this doesn't work, evaluate:
NetAddr.langPort
// Then change the port of NetAddr.new accordingly
</code></pre>

<p>This is the basic way to send OSC Messages using SuperCollider. These messages can be sent to any IP and port, and the message will be sent regardless whether or not it is received. In order for the message to mean anything, a receiver will have to be built to interpret the message.</p>
<p>Taking the above example, here is a simple setup that will make a sound every time a message is sent to address <code>/ding</code>, it uses a class called <code>OSCdef</code> which triggers a particular function when an OSC message is received:</p>
<pre><code class="supercollider">// set address
b = NetAddr.new(&quot;127.0.0.1&quot;,NetAddr.langPort);
// create OSCdef (very similar syntax to SynthDef)
(
OSCdef(\dinger,
    {
    // a simple function that triggers an envelope
        {Pulse.ar(1000,rrand(0.01,0.5),0.3)!2 * EnvGen.ar(Env.perc,doneAction:2)}.play
}, '/ding')
)
// Send a message with no parameters. It'll trigger the function within the OSCdef.
b.sendMsg(&quot;/ding&quot;)
</code></pre>

<p>There are a few tools for diagnosing issues with OSC use in SuperCollider, and we have touched on both of them here. To check if messages from another application are being received correctly, evaluate <code>OSCFunc.trace(true)</code>, which will print all incoming OSC messages to the post window (incluing any internal communications within sclang). If you are expecting to recieve messages to SuperCollider and they're not coming through (the default port of 57120 is where I usually direct all my messages), evaluate <code>NetAddr.langPort</code> to check the internal server port, as it can be re-assigned through multiple instances of SClang.</p>
<p>Messages sent over OSC can also be interpreted and passed into these functions, here is an elaboration on the above example, using a message to set the pitch of the sound:</p>
<pre><code class="supercollider">//set address (if you've already done this no need to do it again)
b = NetAddr.new(&quot;127.0.0.1&quot;,NetAddr.langPort);
//msg will receive the OSC message as an array, with index 0 being the address and index 1 onwards being the message.
//setting msg[1] as the frequency will give the first parameter of the OSC message as an argument
//setting msg[2] as the pulse width would allow you to send the second message parameter as the pulse width, and so on...
(
OSCdef(\dinger,
    {
        |msg|
        {Pulse.ar(msg[1],rrand(0.01,0.5),0.3)!2 * EnvGen.ar(Env.perc,doneAction:2)}.play
}, '/ding')
)
//make a 900Hz ding
b.sendMsg(&quot;/ding&quot;,900);
//make a ding at a random pitch
b.sendMsg(&quot;/ding&quot;,rrand(100,2000))
</code></pre>

<p>In terms of using live data, and live coding your response to the data, the OSCdef can be changed and re-evaluated on the fly, changing data mappings and using OSCdefs to send messages to various items running on the server, and this fits into ProxySpace very nicely. In order to use live data however, you need a live data source, which is not readily available from within SuperCollider - check the examples folder for a Python script which simulates a live data input to be used in a live coding context, covering inter-program communication and live-mapping of data.</p>
<p>If you are wanting to use data from an Arduino to get data into SuperCollider, I wrote <a href="https://github.com/theseanco/python-SerialToOSC">this tool</a>, which generates Python scripts based on a specification you provide that parses Serial data and sends it as a high-speed OSC stream, for which you can build custom OSCdefs in SuperCollider.</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../js/jquery-1.10.2.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '..';
    </script>
    <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
    <script src="../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
